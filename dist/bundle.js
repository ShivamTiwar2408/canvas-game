!function(i){var t={};function o(n){if(t[n])return t[n].exports;var e=t[n]={i:n,l:!1,exports:{}};return i[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=i,o.c=t,o.d=function(i,t,n){o.o(i,t)||Object.defineProperty(i,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(t,"a",t),t},o.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},o.p="",o(o.s=0)}([function(i,t){var o,n,e=500,s=600,l=20,c=25,r=.7,h=15,d=0,p=!1,u=!1,f=0,a=4,m=[];var v=document.getElementById("game");v.setAttribute("width",s),v.setAttribute("height",e),cntx=v.getContext("2d");document.getElementById("pause"),document.getElementById("gameover");var y=document.getElementById("background"),x=(document.getElementById("obstacle"),document.getElementById("remainingLife")),X=document.getElementById("score"),Y=document.getElementById("highest");function g(){var i=localStorage.getItem("highestScore");return null==i?0:i}document.title="Box",Y.innerHTML=g();var w={ArrowRight:function(){o.velocityX=4,o.velocityY=0},ArrowLeft:function(){o.velocityX=-4,o.velocityY=0},ArrowUp:function(){o.velocityX=0,o.velocityY=-4},ArrowDown:function(){o.velocityX=0,o.velocityY=4},Space:function(){p=!p}};function b(i,t,o){this.colors=["red","black"],this.dimension=o,this.positionY=Math.ceil(Math.random()*(t-2*o)),this.positionX=Math.ceil(Math.random()*(i-2*o)),this.flip=0,this.render=function(i){this.flip=(this.flip+1)%this.colors.length,i.fillStyle=this.colors[this.flip],i.fillRect(this.positionX,this.positionY,this.dimension,this.dimension)}}function I(i,t,e,s,l,c,r){this.positionX=i,this.positionY=t,this.dimension=e,this.velocityX=s,this.velocityY=l,this.limitX=c,this.limitY=r,this.reset=function(){this.positionY=r/2,this.positionX=c/2,this.velocityX=0,this.velocityY=0,function(){100===(f+=100/a)&&function(){d>parseInt(g())&&(i=d,localStorage.setItem("highestScore",i));var i;u=!0,m=[],o=void 0,n=void 0}();x.style.width=f+"%"}()},this.onCollision=this.reset,this.move=function(){p||((this.positionX>this.limitX-e||this.positionY>this.limitY-e||this.positionX<0||this.positionY<0)&&this.onCollision(),this.positionX=this.positionX+this.velocityX,this.positionY=this.positionY+this.velocityY)},this.color="white",this.render=function(i){this.move(),i.fillStyle=this.color,i.fillRect(this.positionX,this.positionY,this.dimension,this.dimension)}}function S(i,t,o,n){var e=n/5+Math.ceil(Math.random()*(n/5*4-i)),s=o/5+Math.ceil(Math.random()*(o/5*4-i)),l=Math.random()>=.5?t:0,c=l===t?0:t;I.call(this,s,e,i,l,c,o,n),this.onCollision=function(){this.velocityX=-this.velocityX,this.velocityY=-this.velocityY},this.color="#045FB4"}function B(i,t){if(t instanceof I&&0===t.velocityX&&0===t.velocityY)return!1;let o=t.positionX,n=t.positionY;if(o>=i.positionX&&o<=i.positionX+i.dimension&&n>=i.positionY&&n<=i.positionY+i.dimension)return!0;let e=t.positionX+t.dimension,s=t.positionY;if(e>=i.positionX&&e<=i.positionX+i.dimension&&s>=i.positionY&&s<=i.positionY+i.dimension)return!0;let l=t.positionX,c=t.positionY+t.dimension;if(l>=i.positionX&&l<=i.positionX+i.dimension&&c>=i.positionY&&c<=i.positionY+i.dimension)return!0;let r=t.positionX+t.dimension,h=t.positionY+t.dimension;return r>=i.positionX&&r<=i.positionX+i.dimension&&h>=i.positionY&&h<=i.positionY+i.dimension}function M(i){X.innerText=i}function E(){return cntx.drawImage(y,0,0),u?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Game",s/3,e/3),cntx.fillText("Over",s/3,e/3+80),cntx.font="bold 20px Arial",void cntx.fillText("Press F5 to play again",s/3,e/3+160)):p?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Paused",s/4,e/2.5),cntx.font="bold 20px Arial",void cntx.fillText("Press Space Bar to resume",s/4,e/2.5+80)):(o&&o.render(cntx),n&&n.render(cntx),m.forEach(i=>{i.render(cntx),B(i,o)&&o.reset()}),void(o&&n&&B(o,n)&&(n=new b(s,e,h),M(++d),d&&d%5==0&&m.push(new S(c,r,s,e)))))}m.push(new S(c,r,s,e)),o=new I(s/2,e/2,l,0,0,s,e),n=new b(s,e,h),M(0),window.onload=function(){document.onkeydown=function(i){if((!p||"Space"===i.code)&&0==i.altKey&&0==i.ctrlKey){var t=w[i.code];"function"==typeof t&&t()}},setInterval(function(){E()},1e3/60)}}]);