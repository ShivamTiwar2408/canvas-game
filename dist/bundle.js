!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){var n,i,o=500,s=600,l=20,r=25,c=.7,h=15,d=0,p=!1,u=!1,f=0,a=4,m=[];var v=document.getElementById("game");v.setAttribute("width",s),v.setAttribute("height",o),cntx=v.getContext("2d");document.getElementById("pause"),document.getElementById("gameover");var x=document.getElementById("background"),X=(document.getElementById("obstacle"),document.getElementById("remainingLife")),Y=document.getElementById("score"),g=document.getElementById("highest");function w(){var t=localStorage.getItem("highestScore");return null==t?0:t}document.title="Box",g.innerHTML=w();var y={ArrowRight:function(){n&&(n.velX=4,n.velY=0)},ArrowLeft:function(){n&&(n.velX=-4,n.velY=0)},ArrowUp:function(){n&&(n.velX=0,n.velY=-4)},ArrowDown:function(){n&&(n.velX=0,n.velY=4)},Space:function(){p=!p}};function b(t,e,n){this.colors=["red","black"],this.dimension=n,this.posY=Math.ceil(Math.random()*(e-2*n)),this.posX=Math.ceil(Math.random()*(t-2*n)),this.flip=0,this.render=function(t){this.flip=(this.flip+1)%this.colors.length,t.fillStyle=this.colors[this.flip],t.fillRect(this.posX,this.posY,this.dimension,this.dimension)}}function I(t,e,o,s,l,r,c){this.posX=t,this.posY=e,this.dimension=o,this.velX=s,this.velY=l,this.lmtX=r,this.lmtY=c,this.reset=function(){this.posY=c/2,this.posX=r/2,this.velX=0,this.velY=0,function(){100===(f+=100/a)&&function(){d>parseInt(w())&&(t=d,localStorage.setItem("highestScore",t));var t;u=!0,m=[],n=void 0,i=void 0}();X.style.width=f+"%"}()},this.onCollision=this.reset,this.move=function(){p||((this.posX>this.lmtX-o||this.posY>this.lmtY-o||this.posX<0||this.posY<0)&&this.onCollision(),this.posX=this.posX+this.velX,this.posY=this.posY+this.velY)},this.color="white",this.render=function(t){this.move(),t.fillStyle=this.color,t.fillRect(this.posX,this.posY,this.dimension,this.dimension)}}function S(t,e,n,i){var o=i/5+Math.ceil(Math.random()*(i/5*4-t)),s=n/5+Math.ceil(Math.random()*(n/5*4-t)),l=Math.random()>=.5?e:0,r=l===e?0:e;I.call(this,s,o,t,l,r,n,i),this.onCollision=function(){this.velX=-this.velX,this.velY=-this.velY},this.color="#045FB4"}function B(t,e){if(e instanceof I&&0===e.velX&&0===e.velY)return!1;let n=e.posX,i=e.posY;if(n>=t.posX&&n<=t.posX+t.dimension&&i>=t.posY&&i<=t.posY+t.dimension)return!0;let o=e.posX+e.dimension,s=e.posY;if(o>=t.posX&&o<=t.posX+t.dimension&&s>=t.posY&&s<=t.posY+t.dimension)return!0;let l=e.posX,r=e.posY+e.dimension;if(l>=t.posX&&l<=t.posX+t.dimension&&r>=t.posY&&r<=t.posY+t.dimension)return!0;let c=e.posX+e.dimension,h=e.posY+e.dimension;return c>=t.posX&&c<=t.posX+t.dimension&&h>=t.posY&&h<=t.posY+t.dimension}function M(t){Y.innerText=t}function E(){return cntx.drawImage(x,0,0),u?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Game",s/3,o/3),cntx.fillText("Over",s/3,o/3+80),cntx.font="bold 20px Arial",void cntx.fillText("Press F5 to play again",s/3,o/3+160)):p?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Paused",s/4,o/2.5),cntx.font="bold 20px Arial",void cntx.fillText("Press Space Bar to resume",s/4,o/2.5+80)):(n&&n.render(cntx),i&&i.render(cntx),m.forEach(t=>{t.render(cntx),B(t,n)&&n.reset()}),void(n&&i&&B(n,i)&&(i=new b(s,o,h),M(++d),d&&d%5==0&&m.push(new S(r,c,s,o)))))}m.push(new S(r,c,s,o)),n=new I(s/2,o/2,l,0,0,s,o),i=new b(s,o,h),M(0),window.onload=function(){document.onkeydown=function(t){if((!p||"Space"===t.code)&&0==t.altKey&&0==t.ctrlKey){var e=y[t.code];"function"==typeof e&&e()}},setInterval(function(){E()},1e3/60)}}]);