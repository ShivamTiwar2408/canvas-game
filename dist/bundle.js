!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){var i,n,o=500,s=600,l=20,r=25,h=1.5,c=15,p=0,d=!1,u=!1,f=0,a=4,m=[];var v=document.getElementById("game");v.setAttribute("width",s),v.setAttribute("height",o),cntx=v.getContext("2d");document.getElementById("pause"),document.getElementById("gameover");var X=document.getElementById("background"),Y=(document.getElementById("obstacle"),document.getElementById("remainingLife")),x=document.getElementById("score"),g=document.getElementById("highest");function w(){var t=localStorage.getItem("highestScore");return null==t?0:t}document.title="Box",g.innerHTML=w();var y={ArrowRight:function(){i&&(i.velX=4,i.velY=0)},ArrowLeft:function(){i&&(i.velX=-4,i.velY=0)},ArrowUp:function(){i&&(i.velX=0,i.velY=-4)},ArrowDown:function(){i&&(i.velX=0,i.velY=4)},Space:function(){d=!d}};function I(t,e,i){this.colors=["yellow"],this.dimension=i,this.posY=Math.ceil(Math.random()*(e-2*i)),this.posX=Math.ceil(Math.random()*(t-2*i)),this.flip=0,this.render=function(t){this.flip=(this.flip+1)%this.colors.length,t.fillStyle=this.colors[this.flip],t.fillRect(this.posX,this.posY,this.dimension,this.dimension)}}function S(t,e,o,s,l,r,h){this.posX=t,this.posY=e,this.dimension=o,this.velX=s,this.velY=l,this.lmtX=r,this.lmtY=h,this.reset=function(){this.posY=h/2,this.posX=r/2,this.velX=0,this.velY=0,function(){100===(f+=100/a)&&function(){p>parseInt(w())&&(t=p,localStorage.setItem("highestScore",t));var t;u=!0,m=[],i=void 0,n=void 0}();Y.style.width=f+"%"}()},this.onCollision=this.reset,this.move=function(){d||((this.posX>this.lmtX-o||this.posY>this.lmtY-o||this.posX<0||this.posY<0)&&this.onCollision(),this.posX=this.posX+this.velX,this.posY=this.posY+this.velY)},this.color="white",this.render=function(t){this.move(),t.fillStyle=this.color,t.fillRect(this.posX,this.posY,this.dimension,this.dimension)}}function b(t,e,i,n){var o=n/5+Math.ceil(Math.random()*(n/5*4-t)),s=i/5+Math.ceil(Math.random()*(i/5*4-t)),l=Math.random()>=.5?e:0,r=Math.random()>=.5?e:l===e?0:e;S.call(this,s,o,t,l,r,i,n),this.move=function(){d||((this.posX>this.lmtX-t||this.posX<0)&&(this.velX=-this.velX),(this.posY>this.lmtY-t||this.posY<0)&&(this.velY=-this.velY),this.posX=this.posX+this.velX,this.posY=this.posY+this.velY)},this.onCollision=function(){this.velX=-this.velX,this.velY=-this.velY},this.color="red"}function M(t,e){if(e instanceof S&&0===e.velX&&0===e.velY)return!1;let i=e.posX,n=e.posY;if(i>=t.posX&&i<=t.posX+t.dimension&&n>=t.posY&&n<=t.posY+t.dimension)return!0;let o=e.posX+e.dimension,s=e.posY;if(o>=t.posX&&o<=t.posX+t.dimension&&s>=t.posY&&s<=t.posY+t.dimension)return!0;let l=e.posX,r=e.posY+e.dimension;if(l>=t.posX&&l<=t.posX+t.dimension&&r>=t.posY&&r<=t.posY+t.dimension)return!0;let h=e.posX+e.dimension,c=e.posY+e.dimension;return h>=t.posX&&h<=t.posX+t.dimension&&c>=t.posY&&c<=t.posY+t.dimension}function B(t){x.innerText=t}function E(){return cntx.drawImage(X,0,0),u?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Game",s/3,o/3),cntx.fillText("Over",s/3,o/3+80),cntx.font="bold 20px Arial",void cntx.fillText("Press F5 to play again",s/3,o/3+160)):d?(cntx.fillStyle="white",cntx.font="bold 80px Neue Swift",cntx.fillText("Paused",s/4,o/2.5),cntx.font="bold 20px Arial",void cntx.fillText("Press Space Bar to resume",s/4,o/2.5+80)):(i&&i.render(cntx),n&&n.render(cntx),m.forEach(t=>{t.render(cntx),M(t,i)&&i.reset()}),void(i&&n&&M(i,n)&&(n=new I(s,o,c),B(++p),p&&p%5==0&&m.push(new b(r,h,s,o)))))}m.push(new b(r,h,s,o)),i=new S(s/2,o/2,l,0,0,s,o),n=new I(s,o,c),B(0),window.onload=function(){document.onkeydown=function(t){if((!d||"Space"===t.code)&&0==t.altKey&&0==t.ctrlKey){var e=y[t.code];"function"==typeof e&&e()}},setInterval(function(){E()},1e3/60)}}]);