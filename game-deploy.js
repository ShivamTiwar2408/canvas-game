function food(i,t,o){this.colors=["red","blue","green","#0FD1F3","red","#786C97","red","#D3D910","red","#04FEF3"],this.radius=o,this.positionY=margin+Math.ceil(Math.random()*(t-3*margin)),this.positionX=margin+Math.ceil(Math.random()*(i-3*margin)),this.flip=0,this.reposition=function(o){this.positionY=Math.ceil(Math.random()*t),this.positionX=Math.ceil(Math.random()*i)},this.render=function(i){this.flip=(this.flip+1)%this.colors.length,i.fillStyle=this.colors[this.flip],i.fillRect(this.positionX,this.positionY,2*this.radius,2*this.radius)}}function box(i,t,o,n,e,s,c){this.positionX=i,this.positionY=t,this.dimension=o,this.velocityX=n,this.velocityY=e,this.limitX=s,this.limitY=c,this.reset=function(){this.positionY=c/2,this.positionX=s/2,this.velocityX=0,this.velocityY=0},this.move=function(){paused||((this.positionX>this.limitX-o||this.positionY>this.limitY-o||this.positionX<0||this.positionY<0)&&this.reset(),this.positionX=this.positionX+this.velocityX,this.positionY=this.positionY+this.velocityY)},this.render=function(i){this.move(),i.fillStyle="white",i.fillRect(this.positionX,this.positionY,this.dimension,this.dimension)}}function obstacle(){}function colision_detection(i,t){let o=t.positionX+t.radius,n=t.positionY+t.radius;return o>=i.positionX&&o<=i.positionX+i.dimension&&n>=i.positionY&&n<=i.positionY+i.dimension}function setScore(){document.getElementById("score").innerText=score}function increaseDifficulty(){level++,velocity*=1.5}function draw(){cntx.fillStyle="blue",cntx.fillRect(0,0,cnvswidth,cnvsheight),cntx.fillStyle="black",cntx.fillRect(margin,margin,cnvswidth-2*margin,cnvsheight-2*margin),paused?cntx.drawImage(i,cnvswidth/6,cnvsheight/3):(b.render(cntx),f.render(cntx),colision_detection(b,f)&&(f=new food(cnvswidth,cnvsheight,foodRadius),score++,setScore(),score&&score%5==0&&increaseDifficulty()))}function bindKeyEvents(){document.onkeydown=function(i){paused&&"Space"!==i.code||0==i.altKey&&0==i.ctrlKey&&keyHandlers[i.code]()}}margin=10,cnvsheight=700,cnvswidth=800,boxSide=20,velocity=.5,foodRadius=6,score=0,level=0,paused=!1,g=document.getElementById("game"),g.setAttribute("width",cnvswidth),g.setAttribute("height",cnvsheight),cntx=g.getContext("2d"),i=document.getElementById("pause"),b=new box(cnvswidth/2,cnvsheight/2,boxSide,0,0,cnvswidth,cnvsheight),f=new food(cnvswidth,cnvsheight,foodRadius),keyHandlers={ArrowRight:function(){b.velocityX=velocity,b.velocityY=0},ArrowLeft:function(){b.velocityX=-velocity,b.velocityY=0},ArrowUp:function(){b.velocityX=0,b.velocityY=-velocity},ArrowDown:function(){b.velocityX=0,b.velocityY=velocity},Space:function(){paused=!paused}},window.onload=function(){bindKeyEvents(),setScore(),setInterval(function(){draw()},5)};